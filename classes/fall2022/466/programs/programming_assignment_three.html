

<html>

    <head>
    
        <title> CSCI 466 PA 2</title>
    
    
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous" />
    
        <style>
            h1 {text-align: center;}
            h2 {text-align: center;}
           
            </style>
    
    </head>
    
    
    
    
    <body>
    
        <div class="container">
    
        <h1 text-align:center> Programming Assignment 3: Network Layer SDN Forwarding Simulation</h1>
    
        <h2> Assigned Friday October 28th </h2>
        <h2> Due Monday November 14th @11:59 PM</h2>
    

        <h2> TODO: Add program output, rubric, input file links</h2>


        <h3> GitHub Repo </h3>
        <p> You will use the same GitHub repo from PA1 and PA2. All of your files for this assignment should go inside a <tt> /PA2</tt> folder </p>
    
    
        <h3> Overview</h3>
        In this assignment, you will simulate a network of routers that use SDN-based routing for their routing decisions. Routers will do actions (forward, drop, modify) packets based on a set of rules managed by a SDN. For this assignment you will be simulating a network with 4 routers. Each router has a list of machine IP addresses that are directly connected to it, a set of links to other routers, and a set of rules defined by a SDN.

        <img src="pa3.PNG" width=800" height="400"">


        <br>
        For example, Router B has two links (Link to A, and Link to B) and has the subnet 10.2.2.0/24 connected to it. Packets that arrive to router B that have an destination IP address for one those two machines can be directly delivered.
        

        <h3> Packets </h3>
        You will need to implement a packet class similarly to PA2. Each packet that gets sent into this network will have (AT LEAST) the following information:

        <tt> &nbsp;&nbsp; Class Packet {}
            <ul>
                <li> int src_ip_address</li>
                <li> int dst_ip_address  </li>
                <li> int src_tl_port</li>
                <li> int dst_tl_port </li>
                <li> protocol </li>
            }
            </ul>
            </tt>

        <b>src_ip_address</b> is the source IP address for the packet. <b>dst_ip_address</b>is the destination IP address for the packet. <b>src_tl_port</b> and <b>dst_ip_address</b> are the source transport layer port, and destination transport layer ports of the packet, respectively. The <b> protcol</b> represents the protocol of the packet (HTTP, DNS, UDP, etc). 

        The router will use these fields of the packet to make routing decisions (ie. Forward to Router B if dst_ip_address==10.2.2.3, or Drop packets with src_tl_port=80)


        <h3> Routing Rules </h3>

        You will read in a set of routing rules (actions) from an external csv file. There are three possible actions:
        <br>
        <ul>
            <li>Forward: this action will forward a packet to another router based on some condition</li>
            <br>
            <li>Drop: this action will drop a packet based on some condition</li>
            <br>
            <li>Modify: this action will modify the fields of the packet, and then retransmit it through the current router.</li>
            <br>
        </ul>

        Consider the following rules:
        
        <br>
        <img src="forwarding_rules.PNG" width=800" height="150"">
        <br>
        <br>
        Router A gets 3 rules. If router A ever receives a packet that has a destination IP address of 10.1.1.2, it will always forward it to Router B. If a packet ever arrives with a destination IP address of 10.1.1.3, it will always forward it to router C. If router A gets a packet with a destination IP address of 10.1.1.5, it will drop the packet and move onto the next packet in the queue.
        <br>
        <br>
        From that small snippet of rules defined above, consider a packet arrives to Router A that has a destination IP address of 10.1.1.3. Router A will check its rules, and see that it needs to forward it to Router C. The packet then arrives at router C, and router C will check its rules. Router C has a rule to drop all packets that have a dst_ip_address of 10.1.1.3, so the packet will be dropped bt router C.



        <h3> Router Subroutine.</h3>

        Whenever a packet arrives to router, that same procedure is usually followed. 

        <script src="https://gist.github.com/reesep/b0dadb222a9132e642ed27466bbf9a51.js"></script>




        <h3> Network setup</h3>
        
        You will also need to define a Router class.

        <tt> &nbsp;&nbsp; Class Router {}
            <ul>
                <li> list list_of_ip_addresses</li>
                <li> list connections </li>
                <li> dict rules</li>
            }
            </ul>
            </tt>
        
        For router A, it will have a list of IP addresses of [10.6.6.3], and its connections will be [B,C], and it will have three rules {  Forward=B: dst_ip_address=10.1.1.2, Forward=C : dst_ip_address=10.1.1.3, Drop : dst_ip_address=10.1.1.5 }.
            

        The data types do not have to be the same, but you will need a data structure to hold this information for each router.


            <br><br>

        You will read in this information in from a file (routers.txt)
        <img src="routers.png" width=800" height="150"">

        <h3> Programs </h3>

        You will develope two files. The first is <tt>network.py</tt> which will have the logic for receiving the packet, and then sending the packet throughout the network. This is where you will implement all your parsing and rule checking. The second file you need is <tt> simulation.py</tt>, and its only
        purpose is to send packets (via sockets) to network.py. 

        <br><br>
        You will send several packets, and the packets information will be read in from a text file (packets.txt)

        <img src="packets.png" width=800" height="125"">


        <br> 
        You will have to create a Packet object for each row in this file.


        <h3> Programming Language </h3>
        You are allowed to use a programming language of your choice. Although, you must use a language that supports:
        <ul>
            <li> Socket communication </li>
            <li> OOP or Structs </li>
            <li> Invocation from the command line/terminal</li>
        </ul>

        Python is the support language for this class, so Reese will not be able to help with technical issues or syntax issues if you select a language other than Python. Java, Rust, Go, C/C++ are all valid languages to use.

    
        <h3> Input Files </h3>
        <ul>
            <li> <a href="rules.csv"> rules.csv (read by network.py)</a></li>
            <li> <a href="packets.csv"> packets.csv (read by simulation.py)</a></li>
            <li> <a href="routers.csv"> routers.csv (read by network.py)</a></li>
        </ul>

        <h3> Sample output </h3>
        
        <a href="output.out"> Click here to see an expected output of your program.</a> You program output does not have to match that exactly, but your program should print out the trace of the actions taken at each router.



        <h3> Assumptions</h3>
        <ul>
            <li> You don't have to worry about rules that would create an infinite loop</li>
            <li> There won't be any conflicting rules (ie a router wont have to forward AND drop the same packet.)</li> 
        </ul>


        <h3> Hints </h3>
        <ul>
            <li> Do not tackle the whole problem in one go. Take it one step at a time. First just get two sockets to send/receive objects, then get message segmenting working, then sequence numbers, then acks, etc. </li>
            <li> Dont submit code that doesnt work. If you can't get packet forwarding working properly, try to get everything else working.</li>
        </ul>

        <h3> Video Demo </h3>
        You will record a video demo that highlights the functionality of your program. You can do this with Panopto, or you can record with another recording software (such as OBS) and post it to youtube as private or unlisted.
        
        Your video demo must also provide us a brief walkthrough of your code. This means your video demo will require commentary. Especially if you are using a language other than Python/Java, it will help Reese/Justin see that you followed the instructions.


        <h3> Partners </h3>
    
        You are allowed to work with 1 (one) partner. If you work with a partner, you should only create one private repository. 
    

        <h3> Submission Info </h3>

        <B> NEW:</B> BOTH MEMBERS MUST SUBMIT A REPO LINK TO D2L. All files should be pushed to your repository. You still need a README that contains the video link and information about your program.

    
        <h3> Grading Rubric (100 Points)</h3>
        coming soon
    
            <br><br>
            <b>Penalties</b>
            <ul>
                <li> Running code results in errors before runtime: -30 points </li>
                <li> Running code results in errors during runtime: -15 points</li>
                <li> No video demo: -50 points </li>
                <li> Your repository is public: -100 points </li>
                   </ul>
    
    
    
        <h3> Helpful Examples </h3>
    
        <ul>
            <li><a href="../lectures/examples/socket_objects_server.py">socket_objects_server.py </a></li>
            <li><a href="../lectures/examples/socket_objects_client.py">socket_objects_client.py </a></li>
            <br>
            <li><a href="../lectures/examples/reverse_server.py">reverse_server.py </a></li>
            <li><a href="../lectures/examples/reverse_client.py">reverse_client.py </a></li>
            <br>
            <li><a href="../lectures/examples/countdown_server.py">countdown_server.py </a></li>
            <li><a href="../lectures/examples/countdown_client.py">countdown_client.py </a></li>
    
            <br>
    
            <li> <a href="https://docs.python.org/3/library/socket.html">Sockets documentation</a></li>
    
        </ul>
    
    
        <br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
        <a href="https://youtu.be/b3sOOBicyDY"> Solution</a>
    </div>
    </body>
    
    
    </html>